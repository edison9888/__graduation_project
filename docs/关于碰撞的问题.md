# 关于碰撞检测的问题 #


## 碰撞检测方案的相关 ##
目前进行过4种检测方案

0. 第一种是检测移动方向的格子是否为障碍物块，以此判定是否发生碰撞。
   这方案是使用于以块为单位的移动方式的基础上的。改为像素为单位移动后抛弃之。
1. 第二种是以碰撞矩形的4个点为检测点，获取其在地图上的块位置，检测是否为障碍物块，以此判定是否发生碰撞。
   改为像素移动后的第一个解决方案，结果实在不理想，反方向移动时，身后的点会被障碍物块困住，导致无法移动。
2. 第三种是第二种的修补，由4个点改为2个或者3个点，反方向的最后一个点抛弃。若上下左右移动直接使用该方向的两个点。
   这方案实际上被解决根本问题，十分不可靠，于是决定放弃。
3. 第四种方案是目前采用的，在TMX地图上创建一个对象层，然后把障碍物对象都创建起来，然后代码读取，建立数组，移动时采用AABB检测(其实不是AABB，只是固定的矩形)。
   本方法一定程度上解决了碰撞问题，但是实际移动时还是有点问题。容易被挡住，或许是由于移动方式导致。
   应该采取一定程序的相容。两矩阵接触后的空间，角色移动的时候减去它，让移动更加平滑
   
---
以上记录于2013年2月27日上午1:16


## 检测矩形 ##
检测矩形也采用过几种方案

0. 第一种，直接整个图像的AABB
1. 第二种，trim空白后的AABB
2. 第三种，trim空白后，根据图像类型再对其进一步缩小的AABB

这三个是暂时用过的方案。现在想改用动态获取当前帧的AABB，然后像第三种方法一样根据图像类型进行进一步的缩小，得出新的AABB。这个方案暂定。
   
---
以上记录于2013年2月27日上午1:23
